document.addEventListener("DOMContentLoaded",function(i){var d=document.querySelector(".datatables-order-details");if(d){let l=document.createElement("h5");l.classList.add("card-title","mb-0"),l.innerHTML="Order details";let r=document.createElement("h6");r.classList.add("m-0"),r.innerHTML='<a href=" javascript:void(0)">Edit</a>',new DataTable(d,{ajax:assetsPath+"json/ecommerce-order-details.json",columns:[{data:"id"},{data:"id",orderable:!1,render:DataTable.render.select()},{data:"product_name"},{data:"price"},{data:"qty"},{data:"id"}],columnDefs:[{className:"control",searchable:!1,orderable:!1,responsivePriority:2,targets:0,render:function(s,o,e,a){return""}},{targets:1,orderable:!1,searchable:!1,responsivePriority:3,checkboxes:!0,render:function(){return'<input type="checkbox" class="dt-checkboxes form-check-input">'},checkboxes:{selectAllRender:'<input type="checkbox" class="form-check-input">'}},{targets:2,responsivePriority:1,searchable:!1,orderable:!1,render:function(s,o,e,a){const t=e.product_name,n=e.product_info,c=e.image;let u;if(c)u=`
                <img src="${assetsPath}img/products/${c}" alt="product-${t}" class="rounded-2">
              `;else{const m=Math.floor(Math.random()*6),p=["success","danger","warning","info","dark","primary","secondary"][m],f=(t.match(/\b\w/g)||[]).slice(0,2).join("").toUpperCase();u=`<span class="avatar-initial rounded-2 bg-label-${p}">${f}</span>`}return`
              <div class="d-flex justify-content-start align-items-center text-nowrap">
                <div class="avatar-wrapper">
                  <div class="avatar me-3">${u}</div>
                </div>
                <div class="d-flex flex-column">
                  <h6 class="text-body mb-0">${t}</h6>
                  <small>${n}</small>
                </div>
              </div>`}},{targets:3,searchable:!1,orderable:!1,render:function(s,o,e,a){return"<span>$"+e.price+"</span>"}},{targets:4,searchable:!1,orderable:!1,render:function(s,o,e,a){return'<span class="text-body">'+e.qty+"</span>"}},{targets:5,searchable:!1,orderable:!1,render:function(s,o,e,a){return'<span class="text-body">'+e.qty*e.price+"</span>"}}],select:{style:"multi",selector:"td:nth-child(2)"},order:[2,""],layout:{topStart:{rowClass:"row card-header border-bottom mx-0 px-3",features:[l]},topEnd:{features:[r]},bottomStart:{rowClass:"mt-0",features:[]},bottomEnd:{}},responsive:{details:{display:DataTable.Responsive.display.modal({header:function(s){var o=s.data();return"Details of "+o.product_name}}),type:"column",renderer:function(s,o,e){const a=e.map(function(t){return t.title!==""?`<tr data-dt-row="${t.rowIndex}" data-dt-column="${t.columnIndex}">
                      <td>${t.title}:</td>
                      <td>${t.data}</td>
                    </tr>`:""}).join("");if(a){const t=document.createElement("div");t.classList.add("table-responsive");const n=document.createElement("table");t.appendChild(n),n.classList.add("table");const c=document.createElement("tbody");return c.innerHTML=a,n.appendChild(c),t}return!1}}}})}setTimeout(()=>{[{selector:".dt-layout-table",classToRemove:"row mt-2"},{selector:".dt-layout-start",classToAdd:"px-3"},{selector:".dt-layout-end",classToAdd:"px-3"},{selector:".dt-layout-full",classToRemove:"col-md col-12",classToAdd:"table-responsive"},{selector:".dt-layout-full .table",classToAdd:"mb-0"}].forEach(({selector:r,classToRemove:s,classToAdd:o})=>{document.querySelectorAll(r).forEach(e=>{s&&s.split(" ").forEach(a=>e.classList.remove(a)),o&&o.split(" ").forEach(a=>e.classList.add(a))})})},100)});(function(){const i=document.querySelector(".delete-order");i&&(i.onclick=function(){Swal.fire({title:"Are you sure?",text:"You won't be able to revert order!",icon:"warning",showCancelButton:!0,confirmButtonText:"Yes, Delete order!",customClass:{confirmButton:"btn btn-primary me-2",cancelButton:"btn btn-label-secondary"},buttonsStyling:!1}).then(function(r){r.value?Swal.fire({icon:"success",title:"Deleted!",text:"Order has been removed.",customClass:{confirmButton:"btn btn-success"}}):r.dismiss===Swal.DismissReason.cancel&&Swal.fire({title:"Cancelled",text:"Cancelled Delete :)",icon:"error",customClass:{confirmButton:"btn btn-success"}})})});function d(){var r=new Date().getFullYear();return r}var l=d();document.getElementById("orderYear").innerHTML=l})();
