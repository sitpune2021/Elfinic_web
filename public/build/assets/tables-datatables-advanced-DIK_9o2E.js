document.addEventListener("DOMContentLoaded",function(_){const b=document.querySelector(".start_date"),m=document.querySelector(".end_date"),c=document.querySelector(".flatpickr-range");c&&c.flatpickr({mode:"range",dateFormat:"m/d/Y",orientation:isRtl?"auto right":"auto left",locale:{format:"MM/DD/YYYY"},onClose:function(t,n,a){let l="",e=new Date;t[0]!==void 0&&(l=new Date(t[0]).toLocaleDateString("en-US",{month:"2-digit",day:"2-digit",year:"numeric"}),b.value=l),t[1]!==void 0&&(e=new Date(t[1]).toLocaleDateString("en-US",{month:"2-digit",day:"2-digit",year:"numeric"}),m.value=e),c.dispatchEvent(new Event("change")),c.dispatchEvent(new Event("keyup"))}}),typeof $.fn<"u"&&typeof $.fn.dataTableExt<"u"&&($.fn.dataTableExt.afnFiltering.length=0);const v=function(t,n,a){typeof $.fn<"u"&&typeof $.fn.dataTableExt<"u"&&$.fn.dataTableExt.afnFiltering.push(function(l,e,s){const o=d(e[t]),r=d(n),i=d(a);return r<=o&&o<=i||o>=r&&i===""&&r!==""?!0:o<=i&&r===""&&i!==""})},d=function(t){const n=new Date(t);return n.getFullYear()+("0"+(n.getMonth()+1)).slice(-2)+("0"+n.getDate()).slice(-2)},p=document.querySelector(".datatables-ajax");p&&new DataTable(p,{processing:!0,ajax:{url:assetsPath+"json/ajax.php",dataSrc:"data"},layout:{topStart:{rowClass:"row mx-3 my-0 justify-content-between",features:[{pageLength:{menu:[7,10,25,50,100],text:"Show_MENU_entries"}}]},topEnd:{search:{placeholder:""}},bottomStart:{rowClass:"row mx-3 justify-content-between",features:["info"]},bottomEnd:"paging"},language:{paginate:{next:'<i class="icon-base bx bx-chevron-right scaleX-n1-rtl icon-18px"></i>',previous:'<i class="icon-base bx bx-chevron-left scaleX-n1-rtl icon-18px"></i>',first:'<i class="icon-base bx bx-chevrons-left scaleX-n1-rtl icon-18px"></i>',last:'<i class="icon-base bx bx-chevrons-right scaleX-n1-rtl icon-18px"></i>'}}});const h=document.querySelector(".dt-column-search");if(h){const t=document.querySelector(".dt-column-search thead"),n=t.querySelector("tr").cloneNode(!0);t.appendChild(n);const a=t.querySelectorAll("tr:nth-child(2) th");a.forEach((e,s)=>{const o=e.textContent,r=document.createElement("input");r.type="text",r.className="form-control",r.placeholder=`Search ${o}`,e.style.borderLeft="none",s===a.length-1&&(e.style.borderRight="none"),e.innerHTML="",e.appendChild(r),r.addEventListener("keyup",function(){l.column(s).search()!==this.value&&l.column(s).search(this.value).draw()}),r.addEventListener("change",function(){l.column(s).search()!==this.value&&l.column(s).search(this.value).draw()})});let l=new DataTable(h,{ajax:assetsPath+"json/table-datatable.json",columns:[{data:"full_name"},{data:"email"},{data:"post"},{data:"city"},{data:"start_date"},{data:"salary"}],orderCellsTop:!0,layout:{topStart:{rowClass:"row mx-3 my-0 justify-content-between",features:[{pageLength:{menu:[7,10,25,50,100],text:"Show_MENU_entries"}}]},topEnd:{search:{placeholder:"Type search here"}},bottomStart:{rowClass:"row mx-3 justify-content-between",features:["info"]},bottomEnd:"paging"},language:{paginate:{next:'<i class="icon-base bx bx-chevron-right scaleX-n1-rtl icon-18px"></i>',previous:'<i class="icon-base bx bx-chevron-left scaleX-n1-rtl icon-18px"></i>',first:'<i class="icon-base bx bx-chevrons-left scaleX-n1-rtl icon-18px"></i>',last:'<i class="icon-base bx bx-chevrons-right scaleX-n1-rtl icon-18px"></i>'}}})}const x=document.querySelector(".dt-advanced-search");let u;x&&(u=new DataTable(x,{ajax:assetsPath+"json/table-datatable.json",columns:[{data:""},{data:"full_name"},{data:"email"},{data:"post"},{data:"city"},{data:"start_date"},{data:"salary"}],columnDefs:[{className:"control",orderable:!1,targets:0,render:function(t,n,a,l){return""}}],layout:{topStart:{rowClass:"m-0",features:[]},topEnd:{},bottomStart:{rowClass:"row mx-3 justify-content-between",features:["info"]},bottomEnd:"paging"},language:{paginate:{next:'<i class="icon-base bx bx-chevron-right scaleX-n1-rtl icon-18px"></i>',previous:'<i class="icon-base bx bx-chevron-left scaleX-n1-rtl icon-18px"></i>',first:'<i class="icon-base bx bx-chevrons-left scaleX-n1-rtl icon-18px"></i>',last:'<i class="icon-base bx bx-chevrons-right scaleX-n1-rtl icon-18px"></i>'}},orderCellsTop:!0,responsive:{details:{display:DataTable.Responsive.display.modal({header:function(t){var n=t.data();return"Details of "+n.full_name}}),type:"column",renderer:function(t,n,a){const l=a.map(function(e){return e.title!==""?`<tr data-dt-row="${e.rowIndex}" data-dt-column="${e.columnIndex}">
                      <td>${e.title}:</td>
                      <td>${e.data}</td>
                    </tr>`:""}).join("");if(l){const e=document.createElement("div");e.classList.add("table-responsive");const s=document.createElement("table");e.appendChild(s),s.classList.add("table");const o=document.createElement("tbody");return o.innerHTML=l,s.appendChild(o),e}return!1}}}})),document.querySelectorAll("input.dt-input").forEach(t=>{t.addEventListener("keyup",function(){const n=this.getAttribute("data-column"),a=this.value;w(n,a)})});function w(t,n){if(t==5){const a=b.value,l=m.value;a!==""&&l!==""&&($.fn.dataTable.ext.search.length=0,v(t,a,l)),u.draw()}else u.column(t).search(n,!1,!0).draw()}const g=document.querySelector(".dt-responsive");g&&new DataTable(g,{ajax:assetsPath+"json/table-datatable.json",columns:[{data:"id"},{data:"full_name"},{data:"email"},{data:"post"},{data:"city"},{data:"start_date"},{data:"salary"},{data:"age"},{data:"experience"},{data:"status"}],columnDefs:[{className:"control",orderable:!1,targets:0,searchable:!1,render:function(t,n,a,l){return""}},{targets:-1,render:function(t,n,a,l){const e=a.status,s={1:{title:"Current",class:"bg-label-primary"},2:{title:"Professional",class:"bg-label-success"},3:{title:"Rejected",class:"bg-label-danger"},4:{title:"Resigned",class:"bg-label-warning"},5:{title:"Applied",class:"bg-label-info"}};return typeof s[e]>"u"?t:`
              <span class="badge ${s[e].class}">
                ${s[e].title}
              </span>
            `}}],destroy:!0,layout:{topStart:{rowClass:"row mx-3 my-0 justify-content-between",features:[{pageLength:{menu:[7,10,25,50,100],text:"Show_MENU_entries"}}]},topEnd:{search:{placeholder:""}},bottomStart:{rowClass:"row mx-3 justify-content-between",features:["info"]},bottomEnd:"paging"},language:{paginate:{next:'<i class="icon-base bx bx-chevron-right scaleX-n1-rtl icon-18px"></i>',previous:'<i class="icon-base bx bx-chevron-left scaleX-n1-rtl icon-18px"></i>',first:'<i class="icon-base bx bx-chevrons-left scaleX-n1-rtl icon-18px"></i>',last:'<i class="icon-base bx bx-chevrons-right scaleX-n1-rtl icon-18px"></i>'}},responsive:{details:{display:DataTable.Responsive.display.modal({header:function(t){var n=t.data();return"Details of "+n.full_name}}),type:"column",renderer:function(t,n,a){const l=a.map(function(e){return e.title!==""?`<tr data-dt-row="${e.rowIndex}" data-dt-column="${e.columnIndex}">
                      <td>${e.title}:</td>
                      <td>${e.data}</td>
                    </tr>`:""}).join("");if(l){const e=document.createElement("div");e.classList.add("table-responsive");const s=document.createElement("table");e.appendChild(s),s.classList.add("table");const o=document.createElement("tbody");return o.innerHTML=l,s.appendChild(o),e}return!1}}}});const y=document.querySelector(".dt-responsive-child");let f;y&&(f=new DataTable(y,{ajax:assetsPath+"json/table-datatable.json",columns:[{data:null},{data:"full_name"},{data:"email"},{data:"city"},{data:"start_date"},{data:"age"},{data:"status"}],columnDefs:[{className:"dt-control",orderable:!1,targets:0,searchable:!1,defaultContent:""},{targets:-1,render:function(t,n,a,l){const e=a.status,s={1:{title:"Current",class:"bg-label-primary"},2:{title:"Professional",class:"bg-label-success"},3:{title:"Rejected",class:"bg-label-danger"},4:{title:"Resigned",class:"bg-label-warning"},5:{title:"Applied",class:"bg-label-info"}};return typeof s[e]>"u"?t:`
              <span class="badge ${s[e].class}">
                ${s[e].title}
              </span>
            `}}],layout:{topStart:{rowClass:"row mx-3 my-0 justify-content-between",features:[{pageLength:{menu:[7,10,25,50,100],text:"Show_MENU_entries"}}]},topEnd:{search:{placeholder:""}},bottomStart:{rowClass:"row mx-3 justify-content-between",features:["info"]},bottomEnd:"paging"},scrollX:!0,language:{paginate:{next:'<i class="icon-base bx bx-chevron-right scaleX-n1-rtl icon-18px"></i>',previous:'<i class="icon-base bx bx-chevron-left scaleX-n1-rtl icon-18px"></i>',first:'<i class="icon-base bx bx-chevrons-left scaleX-n1-rtl icon-18px"></i>',last:'<i class="icon-base bx bx-chevrons-right scaleX-n1-rtl icon-18px"></i>'}}}));function E(t){return"<dl><dt>Full name:</dt><dd>"+t.full_name+"</dd><dt>Post:</dt><dd>"+t.post+"</dd><dt>Salary:</dt><dd>"+t.salary+"</dd><dt>Experience:</dt><dd>"+t.experience+"</dd></dl>"}f.on("click","td.dt-control",function(t){let n=t.target.closest("tr"),a=f.row(n);a.child.isShown()?a.child.hide():a.child(E(a.data())).show()}),setTimeout(()=>{[{selector:".dt-buttons .btn",classToRemove:"btn-secondary"},{selector:".dt-search .form-control",classToRemove:"form-control-sm",classToAdd:"ms-4"},{selector:".dt-length .form-select",classToRemove:"form-select-sm"},{selector:".dt-layout-table",classToRemove:"row mt-2"},{selector:".dt-layout-end",classToAdd:"mt-0"},{selector:".dt-layout-end .dt-search",classToAdd:"mt-md-6 mt-0"},{selector:".dt-layout-full",classToRemove:"col-md col-12",classToAdd:"table-responsive"}].forEach(({selector:n,classToRemove:a,classToAdd:l})=>{document.querySelectorAll(n).forEach(e=>{a&&a.split(" ").forEach(s=>e.classList.remove(s)),l&&l.split(" ").forEach(s=>e.classList.add(s))})})},100)});
